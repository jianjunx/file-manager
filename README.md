# æ–‡ä»¶ç®¡ç†å™¨

ä¸€ä¸ªåŸºäº Fresh æ¡†æ¶æ„å»ºçš„ç°ä»£åŒ–æ–‡ä»¶ç®¡ç†å™¨ï¼Œæ”¯æŒæ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½ã€é‡å‘½åã€ç§»åŠ¨ã€å¤åˆ¶ã€åˆ é™¤ç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“ ç›®å½•æµè§ˆå’Œå¯¼èˆª
- ğŸ“¤ æ–‡ä»¶ä¸Šä¼ ï¼ˆæ”¯æŒå¤šæ–‡ä»¶ï¼‰
- ğŸ“¥ æ–‡ä»¶ä¸‹è½½
- âœï¸ æ–‡ä»¶é‡å‘½å
- ğŸ“‹ æ–‡ä»¶å¤åˆ¶
- ğŸ”„ æ–‡ä»¶ç§»åŠ¨
- ğŸ—‘ï¸ æ–‡ä»¶åˆ é™¤
- ğŸ“‚ æ–°å»ºæ–‡ä»¶å¤¹
- ğŸ” é¢åŒ…å±‘å¯¼èˆª
- ğŸ“± å“åº”å¼è®¾è®¡
- ğŸŒ™ æ”¯æŒæš—è‰²æ¨¡å¼
- ğŸ³ Docker éƒ¨ç½²æ”¯æŒ

## ç¯å¢ƒè¦æ±‚

- Deno 1.45.5+
- æˆ–è€… Docker

## æœ¬åœ°å¼€å‘

1. å…‹éš†é¡¹ç›®
```bash
git clone <repository-url>
cd file-manager
```

2. ç¡®ä¿ `data` ç›®å½•å­˜åœ¨ï¼ˆå¯é€‰ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºï¼‰
```bash
mkdir -p data
```

3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
deno task start
```

4. è®¿é—® http://localhost:8000

**æ³¨æ„**ï¼šæœ¬åœ°å¼€å‘æ—¶ï¼Œæ–‡ä»¶ç®¡ç†å™¨ä¼šä½¿ç”¨ `./data` ç›®å½•ä½œä¸ºæ ¹ç›®å½•ï¼Œè¿™ä¸Dockeréƒ¨ç½²æ—¶çš„è¡Œä¸ºä¿æŒä¸€è‡´ã€‚

## ç¯å¢ƒå˜é‡é…ç½®

å¯é€‰çš„ç¯å¢ƒå˜é‡ï¼š
- `PORT`: åº”ç”¨è¿è¡Œç«¯å£ï¼ˆé»˜è®¤ä¸º8000ï¼‰
- `FILE_MANAGER_ROOT`: æ–‡ä»¶ç®¡ç†å™¨çš„æ ¹ç›®å½•è·¯å¾„ï¼ˆDockeréƒ¨ç½²æ—¶é»˜è®¤ä¸º/dataï¼Œæœ¬åœ°å¼€å‘æ—¶é»˜è®¤ä¸º./dataï¼‰

## Docker éƒ¨ç½²

### å¿«é€Ÿå¼€å§‹

ä½¿ç”¨æä¾›çš„ç¤ºä¾‹è„šæœ¬å¿«é€Ÿå¯åŠ¨ï¼š
```bash
# è¿è¡Œç¤ºä¾‹ï¼ˆä½¿ç”¨ ./example-data ä½œä¸ºæ•°æ®ç›®å½•ï¼‰
./run-example.sh

# æˆ–è€…æµ‹è¯•éƒ¨ç½²
./test-deployment.sh
```

### ä½¿ç”¨ Docker Composeï¼ˆæ¨èï¼‰

1. åˆ›å»ºæ•°æ®ç›®å½•
```bash
mkdir -p ./data
```

2. ä¿®æ”¹ `docker-compose.yml` ä¸­çš„å·æ˜ å°„
```yaml
volumes:
  - /path/to/your/files:/data  # å°† /path/to/your/files æ›¿æ¢ä¸ºä½ çš„æ–‡ä»¶ç›®å½•
```

3. å¯åŠ¨æœåŠ¡
```bash
docker-compose up -d
```

### ä½¿ç”¨ Docker å‘½ä»¤

1. æ„å»ºé•œåƒ
```bash
docker build -t file-manager .
```

2. è¿è¡Œå®¹å™¨
```bash
docker run -d \
  --name file-manager \
  -p 8000:8000 \
  -v /path/to/your/files:/data \
  file-manager
```

### ç¯å¢ƒå˜é‡

Docker éƒ¨ç½²æ—¶å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

- `PORT`: åº”ç”¨ç«¯å£ï¼ˆé»˜è®¤ 8000ï¼‰

å®¹å™¨ä¼šè‡ªåŠ¨ä½¿ç”¨ `/data` ç›®å½•ä½œä¸ºæ–‡ä»¶ç®¡ç†å™¨çš„æ ¹ç›®å½•ï¼Œä½ åªéœ€è¦å°†å®¿ä¸»æœºç›®å½•æ˜ å°„åˆ° `/data` å³å¯ã€‚

## ä½¿ç”¨è¯´æ˜

1. **æµè§ˆæ–‡ä»¶**: ç‚¹å‡»æ–‡ä»¶å¤¹è¿›å…¥ï¼Œç‚¹å‡» "..." è¿”å›ä¸Šçº§ç›®å½•
2. **ä¸Šä¼ æ–‡ä»¶**: ç‚¹å‡»"ä¸Šä¼ æ–‡ä»¶"æŒ‰é’®é€‰æ‹©æ–‡ä»¶
3. **åˆ›å»ºæ–‡ä»¶å¤¹**: ç‚¹å‡»"æ–°å»ºæ–‡ä»¶å¤¹"æŒ‰é’®
4. **æ–‡ä»¶æ“ä½œ**: é€‰ä¸­æ–‡ä»¶åå¯ä»¥è¿›è¡Œç§»åŠ¨ã€å¤åˆ¶ã€åˆ é™¤æ“ä½œ
5. **å³é”®èœå•**: å³é”®ç‚¹å‡»æ–‡ä»¶å¯ä»¥è¿›è¡Œé‡å‘½åã€ä¸‹è½½ç­‰æ“ä½œ

## å®‰å…¨ç‰¹æ€§

- è·¯å¾„éå†æ”»å‡»é˜²æŠ¤
- æ–‡ä»¶è®¿é—®æƒé™æ§åˆ¶
- å®‰å…¨çš„æ–‡ä»¶ä¸Šä¼ å¤„ç†
- ç”¨æˆ·è¾“å…¥éªŒè¯

## æŠ€æœ¯æ ˆ

- [Fresh](https://fresh.deno.dev/) - ç°ä»£åŒ–çš„ Deno Web æ¡†æ¶
- [Deno](https://deno.land/) - å®‰å…¨çš„ JavaScript/TypeScript è¿è¡Œæ—¶
- [Tailwind CSS](https://tailwindcss.com/) - å®ç”¨ç¨‹åºä¼˜å…ˆçš„ CSS æ¡†æ¶
- [Preact](https://preactjs.com/) - è½»é‡çº§çš„ React æ›¿ä»£å“

## å¼€å‘

### é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ components/              # å¯é‡ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ Breadcrumb.tsx      # é¢åŒ…å±‘å¯¼èˆª
â”‚   â”œâ”€â”€ ContextMenu.tsx     # å³é”®èœå•
â”‚   â”œâ”€â”€ DirectorySelector.tsx # ç›®å½•é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ FileList.tsx        # æ–‡ä»¶åˆ—è¡¨
â”‚   â””â”€â”€ UploadModal.tsx     # ä¸Šä¼ å¯¹è¯æ¡†
â”œâ”€â”€ islands/                # äº¤äº’ç»„ä»¶
â”‚   â””â”€â”€ FileManager.tsx     # æ–‡ä»¶ç®¡ç†å™¨ä¸»ç»„ä»¶
â”œâ”€â”€ routes/                 # è·¯ç”±å’ŒAPI
â”‚   â”œâ”€â”€ api/files/          # æ–‡ä»¶ç®¡ç†API
â”‚   â”‚   â”œâ”€â”€ copy.ts         # å¤åˆ¶æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ create-dir.ts   # åˆ›å»ºç›®å½•
â”‚   â”‚   â”œâ”€â”€ delete.ts       # åˆ é™¤æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ download.ts     # ä¸‹è½½æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ list.ts         # åˆ—å‡ºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ move.ts         # ç§»åŠ¨æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ rename.ts       # é‡å‘½åæ–‡ä»¶
â”‚   â”‚   â””â”€â”€ upload.ts       # ä¸Šä¼ æ–‡ä»¶
â”‚   â””â”€â”€ index.tsx           # ä¸»é¡µé¢
â”œâ”€â”€ static/                 # é™æ€èµ„æº
â”œâ”€â”€ config.ts               # é…ç½®æ–‡ä»¶
â”œâ”€â”€ main.ts                 # åº”ç”¨å…¥å£
â”œâ”€â”€ Dockerfile              # Dockeré…ç½®
â”œâ”€â”€ docker-compose.yml      # Docker Composeé…ç½®
â”œâ”€â”€ run-example.sh          # ç¤ºä¾‹å¯åŠ¨è„šæœ¬
â”œâ”€â”€ test-deployment.sh      # éƒ¨ç½²æµ‹è¯•è„šæœ¬
â”œâ”€â”€ env.example             # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ README.md               # è¯´æ˜æ–‡æ¡£
```

### å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
deno task start

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆç›‘å¬æ–‡ä»¶å˜åŒ–ï¼‰
deno task dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
deno task build

# è¿è¡Œæµ‹è¯•
deno task test
```

## è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## è®¸å¯è¯

MIT License
